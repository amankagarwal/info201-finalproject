getBanRate("Gnar", "2017")
getBanRate("Gnar", "2016")
getBanRate("Gnar", "2015")
getBanRate("LeeSin", "2015")
getBanRate("LeeSin", "2016")
getBanRate("LeeSin", "2017")
getBanRate("Orianna", "2017")
getBanRate("Orianna", "2016")
getBanRate("Orianna", "2015")
getBanRate("Leblanc", "2015")
getBanRate("Leblanc", "2016")
getBanRate("Leblanc", "2017")
getBanRate("Ezreal", "2017")
getBanRate("Ezreal", "2016")
getBanRate("Ezreal", "2015")
getBanRate("Ryze", "2015")
getBanRate("Ryze", "2016")
getBanRate("Ryze", "2017")
getBanRate("Fiora", "2017")
getBanRate("Fiora", "2016")
getBanRate("Fiora", "2015")
getBanRate("Shen", "2015")
getBanRate("Shen", "2016")
getBanRate("Shen", "2017")
library(plotly)
test <- c(getBanRate("Jayce", "2015"), getBanRate("Jayce", "2016"), getBanRate("Jayce", "2017"))
test.frame <- data.frame(c("2015", "2016", "2017"), test)
View(test.frame)
View(test.frame)
test.frame <- data.frame(year = c("2015", "2016", "2017"), test)
View(test.frame)
View(test.frame)
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, banss)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='markers') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='markers') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "line", text = paste(champion, "<br>Year:", champTable$year),
mode='markers') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='markers') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "line", text = paste(champion, "<br>Year:", champTable$year),
mode='markers') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='lines') %>%
layout(title = paste0(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='lines') %>%
layout(title = paste(champion, "ban rate from 2015-17"),
yaxis = list(title = "Year"),
xaxis = list(title = "Ban Rate"))
return(p)
}
plotTheData("Jayce")
plotTheData("Nidalee")
plotTheData("Leblanc")
plotTheData <- function(champion) {
bans <- c(getBanRate(champion, "2015"), getBanRate(champion, "2016"), getBanRate(champion, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans)
p <- plot_ly(champTable, x = ~year, y = ~bans,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='lines') %>%
layout(title = paste(champion, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year"))
return(p)
}
plotTheData("Leblanc")
plotTheData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1,
type = "scatter", text = paste(champion, "<br>Year:", champTable$year),
mode='lines') %>%
layout(title = paste(champion, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = 'trace 2', mode = 'lines')
return(p)
}
plotTheData("Leblanc", "Orianna")
plotTheData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = 'trace 2', mode = 'lines')
return(p)
}
plotTheData("Leblanc", "Orianna")
plotTheData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers')
return(p)
}
plotTheData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers')
return(p)
}
plotTheData("Leblanc", "Orianna")
plotTheData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheData("Leblanc", "Orianna")
plotTheData("Blitzcrank", "Alistar")
getWinRate <- function(champion, role, year) {
blue <- paste0("Blue", role, "Champ")
red <- paste0("Red", role, "Champ")
games.played <- filter(match.data, blue == champion | red == champion) %>% nrow()
games.won <- filter(match.data, blue == champion & bResult == 1) %>% nrow() +
filter(match.data, red == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Mid", "2015")
getWinRate("Ahri", "Mid", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, blue == champion | red == champion) %>% nrow()
games.won <- filter(match.data, blue == champion & bResult == 1) %>% nrow() +
filter(match.data, red == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Ahri", "Mid", "2015")
getWinRate("Fizz", "Mid", "2015")
getWinRate("Fizz", "Middle", "2015")
getWinRate("Fizz", "Middle", "2015")
games.played <- filter(match.data, Year == "2015") %>%
filter("blueMiddleChamp" == "Fizz" | "redMiddleChamp" == "Fizz")
View(games.played)
View(games.played)
games.played <- filter(match.data, Year == "2015") %>%
filter(blueMiddleChamp == "Fizz" | redMiddleChamp == "Fizz")
View(games.played)
View(games.played)
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, Year == year) %>%
filter_(blue == champion | red == champion) %>% nrow()
games.won <- filter(match.data, blue == champion & bResult == 1) %>% nrow() +
filter_(match.data, red == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, Year == year) %>%
filter_(blue == champion | red == champion) %>% nrow()
games.won <- filter_(match.data, blue == champion & bResult == 1) %>% nrow() +
filter_(match.data, red == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, Year == year) %>%
filter_(blue == champion | red == champion) %>% nrow()
games.won <- filter_(match.data, blue == champion & "bResult" == 1) %>% nrow() +
filter_(match.data, red == champion & "rResult" == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, Year == year) %>%
filter_(blue == champion | red == champion) %>% nrow()
games.won <- (filter_(match.data, blue == champion) %>%
filter(bResult == 1) %>% nrow()) +
(filter_(match.data, red == champion) %>%
filter(rResult == 1) %>% nrow())
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
games.played <- filter(match.data, Year == year) %>%
filter(eval(parse(text = blue)) == champion | eval(parse(text = red)) == champion) %>% nrow()
games.won <- (filter(match.data, eval(parse(text = blue)) == champion) %>%
filter(bResult == 1) %>% nrow()) +
(filter(match.data, eval(parse(text = red)) == champion) %>%
filter(rResult == 1) %>% nrow())
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
year.data <- filter(match.data, Year == year)
games.played <- year.data %>%
filter(eval(parse(text = blue)) == champion | eval(parse(text = red)) == champion) %>% nrow()
games.won <- filter(year.data, eval(parse(text = blue)) == champion & bResult == 1) %>% nrow() +
filter(year.data, eval(parse(text = red)) == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
getWinRate("Fizz", "Middle", "2015")
getWinRate("Jayce", "Top", "2015")
getWinRate("Jayce", "Middle", "2015")
getWinRate("Jayce", "Top", "2017")
getWinRate("Maokai", "Top", "2017")
getWinRate("Renekton", "Top", "2017")
getWinRate("Gnar", "Top", "2017")
plotTheBanData <- function(champion1, champion2) {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, bans1, bans2)
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
year.data <- filter(match.data, Year == year)
games.played <- year.data %>%
filter(eval(parse(text = blue)) == champion | eval(parse(text = red)) == champion) %>% nrow()
games.won <- filter(year.data, eval(parse(text = blue)) == champion & bResult == 1) %>% nrow() +
filter(year.data, eval(parse(text = red)) == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
plotTheWinData <- function(champion1, champion2) {
wins1 <- c(getWinRate(champion1, "2015"), getWinRate(champion1, "2016"), getWinRate(champion1, "2017"))
wins2 <- c(getWinRate(champion2, "2015"), getWinRate(champion2, "2016"), getWinRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, wins1, wins2)
p <- plot_ly(champTable, x = ~year, y = ~wins1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "win rate from 2015-17"),
yaxis = list(title = "Win Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~wins2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheWinData("Fizz", "Ahri")
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
year.data <- filter(match.data, Year == year)
games.played <- year.data %>%
filter(eval(parse(text = blue)) == champion | eval(parse(text = red)) == champion) %>% nrow()
games.won <- filter(year.data, eval(parse(text = blue)) == champion & bResult == 1) %>% nrow() +
filter(year.data, eval(parse(text = red)) == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
plotTheWinData <- function(champion1, champion2) {
wins1 <- c(getWinRate(champion1, "2015"), getWinRate(champion1, "2016"), getWinRate(champion1, "2017"))
wins2 <- c(getWinRate(champion2, "2015"), getWinRate(champion2, "2016"), getWinRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, wins1, wins2)
p <- plot_ly(champTable, x = ~year, y = ~wins1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "win rate from 2015-17"),
yaxis = list(title = "Win Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~wins2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheWinData("Fizz", "Ahri")
plotTheWinData <- function(champion1, champion2, role) {
wins1 <- c(getWinRate(champion1, role, "2015"), getWinRate(champion1, role, "2016"), getWinRate(champion1, role, "2017"))
wins2 <- c(getWinRate(champion2, role, "2015"), getWinRate(champion2, role, "2016"), getWinRate(champion2, role, "2017"))
year <- c("2015", "2016", "2017")
champTable <- data.frame(year, wins1, wins2)
p <- plot_ly(champTable, x = ~year, y = ~wins1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "win rate from 2015-17"),
yaxis = list(title = "Win Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~wins2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheWinData("Fizz", "Ahri", "Middle")
plotTheWinData("Syndra", "Orianna", "Middle")
plotTheWinData("Jayce", "Renekton", "Top")
plotTheWinData("Gnar", "Renekton", "Top")
plotTheWinData("Gnar", "Rumble", "Top")
dataNeeded <- function(champion1, champion2, role, banOrWin) {
if(banOrWin == "Ban") {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
return(data.frame(year, bans1, bans2))
} else {
wins1 <- c(getWinRate(champion1, role, "2015"), getWinRate(champion1, role, "2016"), getWinRate(champion1, role, "2017"))
wins2 <- c(getWinRate(champion2, role, "2015"), getWinRate(champion2, role, "2016"), getWinRate(champion2, role, "2017"))
year <- c("2015", "2016", "2017")
return(data.frame(year, wins1, wins2))
}
}
plotTheWinData <- function(champion1, champion2, role) {
# wins1 <- c(getWinRate(champion1, role, "2015"), getWinRate(champion1, role, "2016"), getWinRate(champion1, role, "2017"))
# wins2 <- c(getWinRate(champion2, role, "2015"), getWinRate(champion2, role, "2016"), getWinRate(champion2, role, "2017"))
# year <- c("2015", "2016", "2017")
# champTable <- data.frame(year, wins1, wins2)
champTable <- dataNeeded(champion1, champion2, role, "Win")
p <- plot_ly(champTable, x = ~year, y = ~wins1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "win rate from 2015-17"),
yaxis = list(title = "Win Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~wins2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheWinData("Gnar", "Rumble", "Top")
plotTheBanData <- function(champion1, champion2) {
# bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
# bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
# year <- c("2015", "2016", "2017")
# champTable <- data.frame(year, bans1, bans2)
champTable <- dataNeeded(champion1, champion2, "", "Ban")
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
plotTheBanData("Ahri", "Fizz")
plotTheBanData("Orianna", "Leblanc")
plotTheBanData("Cassiopia", "Leblanc")
plotTheBanData("Cassiopeia", "Leblanc")
# Takes in a champion and year, then returns the ban rate of that champion that year
getBanRate <- function(champion, year) {
total.games <- combined.data %>%
filter(Year == year) %>%
nrow() / 2
year.data <- combined.data %>%
filter(Year == year) %>%
filter(ban_1 == champion | ban_2 == champion | ban_3 == champion | ban_4 == champion | ban_5 == champion) %>%
nrow()
return (year.data * 100 / total.games)
}
plotTheBanData <- function(champion1, champion2) {
champTable <- dataNeeded(champion1, champion2, "", "Ban")
p <- plot_ly(champTable, x = ~year, y = ~bans1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "ban rate from 2015-17"),
yaxis = list(title = "Ban Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~bans2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
getWinRate <- function(champion, role, year) {
blue <- paste0("blue", role, "Champ")
red <- paste0("red", role, "Champ")
year.data <- filter(match.data, Year == year)
games.played <- year.data %>%
filter(eval(parse(text = blue)) == champion | eval(parse(text = red)) == champion) %>% nrow()
games.won <- filter(year.data, eval(parse(text = blue)) == champion & bResult == 1) %>% nrow() +
filter(year.data, eval(parse(text = red)) == champion & rResult == 1) %>% nrow()
win.rate <- games.won * 100 / games.played
return (win.rate)
}
plotTheWinData <- function(champion1, champion2, role) {
champTable <- dataNeeded(champion1, champion2, role, "Win")
p <- plot_ly(champTable, x = ~year, y = ~wins1, name = champion1,
type = "scatter", text = paste(champion1,"<br>Year:", champTable$year),
mode='lines+markers') %>%
layout(title = paste(champion1, "vs", champion2, "win rate from 2015-17"),
yaxis = list(title = "Win Rate"),
xaxis = list(title = "Year")) %>%
add_trace(y = ~wins2, name = champion2, mode = 'lines+markers', text = paste(champion2,"<br>Year:", champTable$year) )
return(p)
}
dataNeeded <- function(champion1, champion2, role, banOrWin) {
if(banOrWin == "Ban") {
bans1 <- c(getBanRate(champion1, "2015"), getBanRate(champion1, "2016"), getBanRate(champion1, "2017"))
bans2 <- c(getBanRate(champion2, "2015"), getBanRate(champion2, "2016"), getBanRate(champion2, "2017"))
year <- c("2015", "2016", "2017")
return(data.frame(year, bans1, bans2))
} else {
wins1 <- c(getWinRate(champion1, role, "2015"), getWinRate(champion1, role, "2016"), getWinRate(champion1, role, "2017"))
wins2 <- c(getWinRate(champion2, role, "2015"), getWinRate(champion2, role, "2016"), getWinRate(champion2, role, "2017"))
year <- c("2015", "2016", "2017")
return(data.frame(year, wins1, wins2))
}
}
